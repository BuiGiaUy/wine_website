Index: website/routes/admin.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\n\nuse App\\Http\\Controllers\\Admin\\Auth\\LoginController;\nuse App\\Http\\Controllers\\Admin\\Auth\\RegisterController;\nuse App\\Http\\Controllers\\Admin\\BrandController;\nuse App\\Http\\Controllers\\Admin\\CategoryController;\nuse App\\Http\\Controllers\\Admin\\HomeController;\nuse App\\Http\\Controllers\\Admin\\PostController;\nuse App\\Http\\Controllers\\Admin\\ProductController;\nuse Illuminate\\Support\\Facades\\Route;\n\nRoute::namespace('admin')->group(function () {\n    // Login Admin page\n    Route::get('/login', [LoginController::class, 'showLoginForm'])->name('admin.login.form');\n    Route::post('/login', [LoginController::class, 'login'])->name('admin.login');\n\n    Route::get('/register',[RegisterController::class,'showRegisterForm'])->name('admin.register.form');\n    Route::post('/register',[RegisterController::class,'register'])->name('admin.register');\n\n    Route::group(['middleware' => 'auth:admin'], function () {\n        Route::get('/logout', [LoginController::class, 'logout'])->name('admin.logout');\n        Route::post('/logout', [LoginController::class, 'logout'])->name('admin.auth.logout');\n        Route::get('/', [HomeController::class, 'index'])->name('admin.homepage');\n\n        // Quản lý Category\n        Route::group(['prefix'=>'category'],function() {\n            Route::get('/{model_type}/', [CategoryController::class,'index'])->name('admin.category.index');\n            Route::get('/{model_type}/add', [CategoryController::class,'add'])->name('admin.category.add');\n            Route::post('/{model_type}/add', [CategoryController::class,'store'])->name('admin.category.store');\n            Route::get('/{model_type}/edit/{id}', [CategoryController::class,'edit'])->name('admin.category.edit');\n            Route::post('/{model_type}/edit/{id}', [CategoryController::class,'update'])->name('admin.category.update');\n            Route::get('/{model_type}/delete/{id}', [CategoryController::class,'destroy'])->name('admin.category.delete');\n        });\n\n        // Quản lý Brand\n        Route::group(['prefix'=> 'brand'], function() {\n            Route::get('/', [BrandController::class, 'index'])->name('admin.brand.index');\n            Route::get('/add', [BrandController::class, 'add'])->name('admin.brand.add');\n            Route::post('/add', [BrandController::class, 'store'])->name('admin.brand.store');\n            Route::get('/edit/{id}', [BrandController::class, 'edit'])->name('admin.brand.edit');\n            Route::post('/edit/{id}', [BrandController::class, 'update'])->name('admin.brand.update');\n            Route::delete('/delete/{id}', [BrandController::class, 'destroy'])->name('admin.brand.delete');\n        });\n\n        // Quản lý bài viết\n        Route::group(['prefix'=> 'post'], function() {\n            Route::get('/', [PostController::class, 'index'])->name('admin.post.index');\n            Route::get('/add', [PostController::class, 'add'])->name('admin.post.add');\n            Route::post('/add', [PostController::class, 'store'])->name('admin.post.store');\n            Route::get('/edit/{id}', [PostController::class, 'edit'])->name('admin.post.edit');\n            Route::post('/edit/{id}', [PostController::class, 'update'])->name('admin.post.update');\n            Route::delete('/delete/{id}', [PostController::class, 'destroy'])->name('admin.post.delete');\n        });\n\n\n    });\n});\n
===================================================================
diff --git a/website/routes/admin.php b/website/routes/admin.php
--- a/website/routes/admin.php	
+++ b/website/routes/admin.php	
@@ -52,6 +52,14 @@
             Route::delete('/delete/{id}', [PostController::class, 'destroy'])->name('admin.post.delete');
         });
 
-
+        // Quản lý sản phẩm
+        Route::group(['prefix'=> 'product'], function() {
+            Route::get('/', [ProductController::class, 'index'])->name('admin.product.index');
+            Route::get('/add', [ProductController::class, 'add'])->name('admin.product.add');
+            Route::post('/add', [ProductController::class, 'store'])->name('admin.product.store');
+            Route::get('/edit/{id}', [ProductController::class, 'edit'])->name('admin.product.edit');
+            Route::post('/edit/{id}', [ProductController::class, 'update'])->name('admin.product.update');
+            Route::delete('/delete/{id}', [ProductController::class, 'destroy'])->name('admin.product.delete');
+        });
     });
 });
Index: website/app/Http/Controllers/Admin/PostController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\n\nnamespace App\\Http\\Controllers\\Admin;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Models\\Category;\nuse App\\Models\\Image;\nuse App\\Models\\Post;\nuse Illuminate\\Contracts\\View\\View;\nuse Illuminate\\COntracts\\Foundation\\Application;\nuse Illuminate\\Contracts\\View\\Factory;\nuse Illuminate\\Http\\RedirectResponse;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Str;\n\n\nclass PostController extends Controller\n{\n    public function __construct()\n    {\n        $this->middleware('auth:admin');\n    }\n\n    public function getPostCategories() {\n        return Category::where('model_type','=', 'post')\n            ->where('parent_id', '=', 0)\n            ->with('subCategories')\n            ->get();\n    }\n\n    protected function fillDataToPost($item, $input, $is_create): void\n    {\n        $item[\"name\"] = $input[\"name\"] ?? \"\";\n        $item[\"slug\"] = $input[\"slug\"] ?? Str::slug($item[\"name\"]);\n        $item[\"description\"] = $input[\"description\"] ?? \"\";\n        $item[\"content\"] = $input[\"content\"] ?? \"\";\n        $item[\"seo_title\"] = $input[\"seo_title\"] ?? \"\";\n        $item[\"seo_keywords\"] = $input[\"seo_keywords\"] ?? \"\";\n        $item[\"seo_description\"] = $input[\"seo_description\"] ?? \"\";\n        $item[\"category_id\"] = $input[\"category_id\"] ?? null;\n        if ($is_create)\n        {\n            $item[\"views\"] = 0;\n            $item[\"rating_number\"] = 0;\n            $item[\"rating_value\"] = 0;\n        }\n        $item->save();\n    }\n    public function index(): Factory|View|Application\n    {\n        $group = 'post';\n        return view('admin.content.post.index', [\n            \"posts\" => Post::orderBy('category_id', 'ASC')->whereHas('category', function ($query) use($group) {\n                $query->where('model_type', $group);\n            })->qaginate(50)\n        ]);\n\n//        $posts = Post::orderBy('category_id', 'ASC')->whereHas('category', function ($query) use ($group) {\n//            $query->where('model_type', $group);\n//        })->paginate(50);\n//\n//        echo \"<pre>\";\n//        print_r($post);\n//        echo \"</pre>\";\n    }\n    public function add():Factory|View|Application\n    {\n        return view(\"admin.content.post.add\", [\n            \"categories\" => $this->getPostCategories(),\n        ]);\n    }\n    public function saveImageIntoPost($images, $post): void\n    {\n        foreach ($images as $img)\n        {\n            $image= new Image();\n            $image[\"type\"]= typeOf($post);\n            $image[\"model_id\"]= $post->id;\n            $image[\"path\"]= $img;\n            $image[\"name\"]= $img;\n            $image[\"alt\"]= $img;\n            $image->save();\n        }\n    }\n    public function store(Request $request): RedirectResponse\n    {\n        $input = $request->all();\n        $item = new Post();\n\n        $this->fillDataToPost($item, $input, true);\n        $images = $input[\"images\"] ?? [];\n        $this->saveImageIntoPost($images, $item);\n\n        return redirect()->route(\"admin.post.index\");\n    }\n\n    public function edit($id): Factory|View|Application|RedirectResponse\n    {\n        $post = Post::find($id);\n        if (!$post) return redirect()->back();\n        return view(\"admin.content.post.edit\", [\n            \"post\" => $post,\n            \"categories\" => $this->getPostCategories(),\n        ]);\n    }\n\n    public function update(Request $request, $id): RedirectResponse\n    {\n        $post = Post::find($id);\n        if (!$post) return redirect()->back();\n\n        $input = $request->all();\n        $this->fillDataToPost($post, $input, false);\n\n        $post->deleteImages();\n        $images = $input['image'] ?? [];\n        $this->saveImageIntoPost($images, $post );\n\n        return redirect()->route(\"admin.post.index\");\n    }\n\n    public function destroy($id) : RedirectResponse\n    {\n        $post = Post::find($id);\n        if (!$post) return redirect()->back();\n        $post->delete();\n        return redirect()->route(\"admin.post.index\");\n    }\n}\n
===================================================================
diff --git a/website/app/Http/Controllers/Admin/PostController.php b/website/app/Http/Controllers/Admin/PostController.php
--- a/website/app/Http/Controllers/Admin/PostController.php	
+++ b/website/app/Http/Controllers/Admin/PostController.php	
@@ -52,7 +52,7 @@
         return view('admin.content.post.index', [
             "posts" => Post::orderBy('category_id', 'ASC')->whereHas('category', function ($query) use($group) {
                 $query->where('model_type', $group);
-            })->qaginate(50)
+            })->paginate(50)
         ]);
 
 //        $posts = Post::orderBy('category_id', 'ASC')->whereHas('category', function ($query) use ($group) {
